# Укротитель ссылок

Этот проект представляет собой консольное приложение на Java для создания коротких URL из длинных.  Пользователи могут создавать учетные записи, сокращать длинные ссылки, получать оригинальные ссылки по коротким ссылкам, изменять параметры ссылок и получать список своих ссылок.  Данные читаются из JSON-файла (`userLinks.json`) при открытии приложения, хранятся в памяти процесса и записываются в JSON-файла (`userLinks.json`) при закрытии приложения для сохранения информации между запусками приложения.

## Функциональность

* **Авторизация пользователей:** Приложение позволяет создавать новые учетные записи или входить в существующие. Идентификаторы пользователей генерируются случайным образом с помощью UUID.
* **Создание коротких ссылок:** Пользователи предоставляют длинный URL-адрес, и приложение генерирует сокращенную ссылку с опциональным ограничением количества переходов (по умолчанию 10).  Сокращенная ссылка имеет вид `http://Tiny.url/<шестизначный код>`.
* **Получение оригинальных ссылок:** Пользователи могут ввести короткий URL-адрес, чтобы получить оригинальный длинный URL. Приложение отслеживает переходы по короткой ссылке, уменьшает количество доступных переходов и удаляет ссылку, если лимит переходов исчерпан или срок действия ссылки истек (24 часа).
* **Изменение параметров коротких ссылок:** Пользователи могут изменять лимит количества переходов для существующих коротких URL-адресов.
* **Удаление ссылок:**  Пользователь может удалить ссылки из своего списка.
* **Просмотр всех ссылок:** Пользователь может просмотреть все свои сохранённые ссылки.
* **Хранение данных:** Данные пользователей и ссылки сохраняются в файл `userLinks.json` в формате JSON.  Данные сериализуются и десериализуются с помощью библиотеки Gson.
* **Выход из приложения:** Приложение корректно закрывается, сохраняя все данные в файл перед выходом.

## Структура проекта

Проект состоит из следующих пакетов:

* `org.example.IOConsole`: Обработка ввода/вывода через консоль.
* `org.example.Models`: Модели данных: `User` и `Link`.
* `org.example.Storage`: Управление данными в памяти процесса, чтение и запись данных в файле `userLinks.json`.


## Классы

* `AbstractPanel`: Базовый класс для управления взаимодействием с пользователем в разных панелях.
* `AuthenticationPanel`: Обработка входа и регистрации пользователей.
* `MainPanel`: Главная панель для управления короткими URL-адресами.
* `CloseApplicationPanel`: Обработка закрытия приложения и сохранения данных.
* `PanelManager`: Управление переходами между панелями приложения.
* `Link`: Представляет короткую ссылку, включая оригинальный URL, короткий URL, лимит переходов, время создания и методы для проверки "свежести" ссылки и обработки переходов.
* `User`: Представляет пользователя с уникальным идентификатором (UUID).
* `Storage`: Управление данными в памяти процесса, чтение и запись данных в файле `userLinks.json`. Использует библиотеку Gson для сериализации и десериализации данных.
* `Main`: Точка входа в приложение.
* `LocalDateTimeTypeAdapter`: Кастомный адаптер для Gson для обработки объектов `LocalDateTime`.


## Зависимости

Для работы приложения необходима библиотека Gson.  Её можно добавить в проект с помощью системы управления зависимостями (например, Maven или Gradle).  Пример добавления в `pom.xml` (Maven):

```xml
<dependency>
    <groupId>com.google.code.gson</groupId>
    <artifactId>gson</artifactId>
    <version>2.11.0</version>
</dependency>
```
## Тестирование

Для проверки функций автоматического удаления ссылок по истечении срока действия или достижении лимита переходов, в файле `userLinks.json`  содержатся тестовые данные.

**Тестовый сценарий:**

1. Войдите в приложение под идентификатором пользователя `aacf9744-5c2a-4ba1-8dbd-98f73be2dbcc`.
2. Попробуйте получить или изменить информацию о следующих коротких ссылках:
    * `http://Tiny.url/1febd9`
    * `http://Tiny.url/57012c`

В зависимости от состояния этих ссылок (достигнут ли лимит переходов, истек ли срок действия), приложение должно корректно обработать запрос и удалить ссылку, если это необходимо.  Результаты выполнения сценария должны подтвердить корректность работы функций автоматического удаления ссылок.